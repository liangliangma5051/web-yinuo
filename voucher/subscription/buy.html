<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="../../js/h5rem.js"></script>
  <link rel="stylesheet" href="../../css/style.css">
  <script src="../../js/jquery-2.1.4.min.js"></script>   <script src="../../js/jquery.lazyload.js"></script>
  <script src="../../js/public.js"></script>
</head>
<body>
<div class="return">
  <i onclick="history.go(-1)"></i>
  诺券认购
</div>
<div class="exchange-box box-scroll">
  <h5>请选择参与认购的诺券</h5>
  <div class="col">
    <ul class="center-list">
      <li>
        <label class="checkbox-input">
          <input type="radio" name="a1" checked>
          <span></span>
        </label>
        <a href="#">
          <img src="../../images/img.jpg" data-original="../images/img.jpg" alt="" style="display: block;">
          <div class="right">
            <p>富岗苹果红富士苹果水果太行山特
              产特产特产特产特产特产特产特产特产特产特产特产特产特产特</p>
            <p class="price colec2"><s>300</s>&nbsp;元/份</p>
          </div>
        </a>
      </li>
    </ul>
    <div class="set-col">
      <div class="card-img">
        <img src="../../images/card.jpg" alt="">
        <div class="name">
          飞猪侠  2诺108次
        </div>
        <div class="font-num left">
          <b>30</b>元
        </div>
        <div class="font-num total">
          余额:270
        </div>
        <time class="font-num">2018 03 02</time>
      </div>
    </div>
  </div>
  <div class="col">
    <ul class="center-list">
      <li>
        <label class="checkbox-input">
          <input type="radio" name="a1">
          <span></span>
        </label>
        <a href="#">
          <img src="../../images/img.jpg" data-original="../images/img.jpg" alt="" style="display: block;">
          <div class="right">
            <p>富岗苹果红富士苹果水果太行山特
              产特产特产特产特产特产特产特产特产特产特产特产特产特产特</p>
            <p class="price colec2"><s>300</s>&nbsp;元/份</p>
          </div>
        </a>
      </li>
    </ul>
    <div class="set-col">
      <div class="card-img">
        <img src="../../images/card.jpg" alt="">
        <div class="name">
          飞猪侠  2诺108次
        </div>
        <div class="font-num left">
          <b>30</b>元
        </div>
        <div class="font-num total">
          余额:270
        </div>
        <time class="font-num">2018 03 02</time>
      </div>
    </div>
  </div>
</div>
<div class="exchange-box-fixed">
  <h5>当前认购额:<s>300</s>元</h5>

  <div id="div1dom">
    <div id="div2dom"></div>
  </div>
  <div id="div3dom"></div>
  <div class="price">
    <h4 class="posl">
      <span>300元</span>
      <s>最低认购额</s>
    </h4>
    <h4 class="posr">
      <span>2400元</span>
      <s>最高认购额</s>
    </h4>
    <p>
      请拖动进度条选择本次认购额
    </p>
  </div>

  <div class="add-address">
    <div class="submit-button">
      <a href="../../details/payment.html">
        确定认购
      </a>
    </div>
  </div>



</div>



</body>
</html>
<style type="text/css">

</style>
<script type="text/javascript">
    var div1 = document.getElementById("div1dom");
    var div2 = document.getElementById("div2dom");

    var s = 8 ;// 一共可以买多少份
    var price = 300;// 1份的价格
    // 这两个是 参数 变量




    var g= 300/s;// 1份的长度
    div2.style.width=g+"px";    // 默认1份 最小1份
    var select;// 用户选择的是几份
    div2.addEventListener('touchmove', function(event) {
        event.preventDefault();
        var styles = window.getComputedStyle(div1,null);
        var width=styles.width;
        if (event.targetTouches.length == 1) {
            var touch = event.targetTouches[0];
            var moveleft = touch.pageX -38;
            if(moveleft<g){
                moveleft = g
                select = 1;
            } else if(moveleft>300){
                moveleft = 300
            }else{
                for (var i=0;i<s;i++){
                    if(moveleft > g*i && moveleft< g*i+g){
                        select = i+1;
                        moveleft = g*i + g;
                    }
                }
            }
            $('.exchange-box-fixed h5 s').html(select * price)
            div2.style.width=moveleft+"px";//最后把left值附上。
        };
    });

</script>