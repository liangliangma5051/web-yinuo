<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/swiper.min.css">
  <script src="js/swiper.min.js"></script>
  <script src="js/h5rem.js"></script>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/jquery-2.1.4.min.js"></script>
  <script src="js/public.js"></script>
</head>
<body>
<header class="clear-fix">
  <div class="header-col screen-icon" onclick="search()"></div>
  <div class="header-col searchText">
    <i></i>
    <p>
      <a href="list/list.html">请输入需求或服务名称搜索</a>
    </p>
    <!--<input type="text" placeholder="请输入需求或服务名 称搜索">-->
  </div>
  <div class="header-col bell">
    <a href="msg/item.html"></a>
  </div>
</header>

<div class="swiper-container2">
  <div class="swiper-wrapper">
    <div class="swiper-slide">
      <div class="swiper-container" >
        <ul class="swiper-wrapper clear-fix">
          <li class="index-item swiper-slide" data-hash="slide1">
            <img src="images/img.jpg" class="banner-bj" alt="">
            <div class="item-box">
              <div class="item-header">
                <img src="images/img.jpg" class="index-tx" alt="">
                <p>1对1篮球实战课1对1篮球实战课</p>
                <div class="follow" onclick="follow(this)"></div>
              </div>
              <div class="item-body clear-fix">
                <span  class="fl">王晓</span>
                <div class="right">
                  <i class="nuoVoucher">
                    2诺&nbsp;22次
                  </i>
                  <s class="label"><i></i>18</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                </div>
              </div>
              <div class="item-foot clear-fix">
                <a href="#">
                  <i class="share-icon"></i>
                  分享
                </a>
                <a href="#">
                  <i class="buy-icon"></i>
                  购买
                </a>

              </div>
            </div>
          </li>
          <li class="index-item  swiper-slide" data-hash="slide2">
            <img src="images/tem.png" class="banner-bj" alt="">
            <div class="item-box">
              <div class="item-header">
                <img src="images/img.jpg" class="index-tx" alt="">
                <p>1对1篮球实战课1对1篮球实战课</p>
                <div class="follow" onclick="follow(this)"></div>
              </div>
              <div class="item-body clear-fix">
                <span  class="fl">王晓</span>
                <div class="right">
                  <i class="nuoVoucher">
                    2诺&nbsp;22次
                  </i>
                  <s class="label"><i></i>18</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                </div>
              </div>
              <div class="item-foot clear-fix">
                <a href="#">
                  <i class="share-icon"></i>
                  分享
                </a>
                <a href="#">
                  <i class="buy-icon"></i>
                  购买
                </a>

              </div>
            </div>
          </li>
          <li class="index-item  swiper-slide" data-hash="slide3">
            <img src="images/tem.png" class="banner-bj" alt="">
            <div class="item-box">
              <div class="item-header">
                <img src="images/img.jpg" class="index-tx" alt="">
                <p>1对1篮球实战课1对1篮球实战课</p>
                <div class="follow" onclick="follow(this)"></div>
              </div>
              <div class="item-body clear-fix">
                <span  class="fl">王晓</span>
                <div class="right">
                  <i class="nuoVoucher">
                    2诺&nbsp;22次
                  </i>
                  <s class="label"><i></i>18</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                  <s class="label">上门服务</s>
                </div>
              </div>
              <div class="item-foot clear-fix">
                <a href="#">
                  <i class="share-icon"></i>
                  分享
                </a>
                <a href="#">
                  <i class="buy-icon"></i>
                  购买
                </a>

              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

</div>

<div class="mask-release" onclick="hideMask()">
  <a href="demand/my/release.html" class="icon1"></a>
  <a href="release" class="icon2"></a>
</div>
<footer>
  <dl class="clear-fix">
    <dd>
      <a href="index.html">
        <i class="index-page checked"></i>
        <s>首页</s>
      </a>
    </dd>
    <dd>
      <a href="demand/list.html">
        <i class="demand-page"></i>
        <s>求购</s>
      </a>
    </dd>
    <dd onclick="showMask()">
      <a href="javascript:void(0)">
        <i class="add-page"></i>
        <s class="text">发布</s>
      </a>
    </dd>
    <dd>
      <a href="msg/msgList.html">
        <i class="msg-page"></i>
        <s>消息</s>
      </a>
    </dd>
    <dd >
      <a href="center/index.html">
        <i class="my-page "></i>
        <s>我的</s>
      </a>
    </dd>
  </dl>
</footer>


<div style="display: none" class="search">
  <ul class="clear-fix">
    <li class="checked">服务类型<s>&gt;</s></li>
    <li>筛选<s>&gt;</s></li>
    <li>智能排序<s>&gt;</s></li>
  </ul>
  <div style="display: block" class="box-dl">
    <dl class="clear-fix">
      <dt onclick="follow(this)">特色分类1</dt>
      <dd class="checked" onclick="follow(this)">扶贫专区</dd>
      <dd onclick="follow(this)">慈善服务</dd>
    </dl>
    <dl class="clear-fix">
      <dt>产品</dt>
      <dd onclick="follow(this)" class="checked">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
    </dl>
    <dl class="clear-fix">
      <dt>技能</dt>
      <dd onclick="follow(this)" class="checked">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
    </dl>
    <dl class="clear-fix">
      <dt>服务</dt>
      <dd onclick="follow(this)" class="checked">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">日常用品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
      <dd onclick="follow(this)">大宗商品</dd>
    </dl>
    <dl class="clear-fix">
      <dt>其他</dt>
      <dd onclick="$('.mask').show()">自定义</dd>
      <div class="mask" style="display: none">
        <div class="context">
          <div class="clear-fix">
            <input type="text" placeholder="自定义服务类型最多8个字" maxlength="8">
            <div class="btn">确定</div>
          </div>
          <div class="close" onclick="$('.mask').hide()"></div>
        </div>
      </div>
    </dl>
  </div>
  <div class="box-dl center">
    <dl class="clear-fix">
      <dt>性别</dt>
      <dd class="checked" onclick="selectRadio(this)">男</dd>
      <dd onclick="selectRadio(this)">女</dd>
    </dl>
    <dl class="clear-fix">
      <dt>诺级</dt>
      <dd class="checked" onclick="selectRadio(this)">一级</dd>
      <dd onclick="selectRadio(this)">二级</dd>
      <dd onclick="selectRadio(this)">三级</dd>
    </dl>
    <dl class="clear-fix">
      <dt>距离</dt>
      <dd class="checked" onclick="selectRadio(this)">5km内</dd>
      <dd onclick="selectRadio(this)">1215km内</dd>
      <dd onclick="selectRadio(this)">512km内</dd>
      <dd onclick="selectRadio(this)">大宗商品</dd>
      <dd onclick="selectRadio(this)">日常用品</dd>
      <dd onclick="selectRadio(this)">大宗商品</dd>
    </dl>
    <dl class="clear-fix">
      <dt>时间</dt>
      <dd class="checked" onclick="selectRadio(this)">1天内</dd>
      <dd onclick="selectRadio(this)">一周内</dd>
      <dd onclick="selectRadio(this)">1月内</dd>
    </dl>
    <dl class="clear-fix">
      <dt>发行额</dt>
      <dd><input type="tel" name="a1Start"></dd>
      <dd class="and">至</dd>
      <dd><input type="tel" name="a1End"></dd>
    </dl>
    <dl class="clear-fix">
      <dt>认购价</dt>
      <dd><input type="tel" name="a2Start"></dd>
      <dd class="and">至</dd>
      <dd><input type="tel" name="a2End"></dd>
    </dl>

  </div>
  <div class="box-dl pl0">
    <p onclick="selectRadio(this)" class="checked">按照发布时间远近排序</p>
    <p onclick="selectRadio(this)">按照发售额大小排序</p>
    <p onclick="selectRadio(this)">按认购价格高低排序</p>
    <p onclick="selectRadio(this)">按照距离远近排序</p>
    <p onclick="selectRadio(this)">全部内容</p>
  </div>
  <div class="search-submit">
    <div class="button reset">重 置</div>
    <div class="button ok" onclick="submitSearch()">确  定</div>
  </div>
</div>
</body>
</html>
<script>
    function search() {
        $('.search').show()
    }
    // 选择多选
    function follow(e) {
        $(e).toggleClass('checked')
    }
    // 选择单选
    function selectRadio(e) {
        $(e).toggleClass('checked').siblings().removeClass('checked')
    }

    var  swiper = new Swiper('.swiper-container', {
        lazy: true,
        loop : false,
        effect: 'cube',
        height : window.innerHeight,
        hashNavigation: true,
        on:{
            touchEnd: function(event){
                $('ul li').removeClass('daksjndkajsdn')
                $('ul li').eq(swiper.activeIndex).addClass('daksjndkajsdn')

            },

        }
    });
    console.log( window.innerHeight)
    let mySwiper2 = new Swiper('.swiper-container2',{
        direction: 'vertical',
        height : window.innerHeight,
        on: {
            touchEnd: function(event) {
                if (mySwiper2.translate < -70) {
                    window.location.href='details/service.html'
                }
            }
        },
    });

    $('.search li').on('click',function () {
        $(this).addClass('checked').siblings().removeClass('checked');
        $(this).hasClass('checked') ?
            $('.box-dl').eq($(this).index()).show().siblings('.box-dl').hide()
            : $('.box-dl').eq($(this).index()).hide().siblings('.box-dl').hide()
    })
    $(document).ready(function() {

        setTimeout(
            function () {
                $('.down').hide()
            }
            ,3000)

    });

    function showMask() {
        $('.mask-release').show()
    }
    function hideMask() {
        $('.mask-release').hide()
    }

    function submitSearch() {
        let a1Start = $.trim($('input[name="a1Start"]').val());
        let a1End = $.trim($('input[name="a1End"]').val());
        let a2Start = $.trim($('input[name="a2Start"]').val());
        let a2End = $.trim($('input[name="a2End"]').val());
        let isA1 = a1Start !== '' && a1End !== '';
        if(a1Start==='' && a1End === ''){
            isA1 = true
        }else{
            if((/^[0-9]*[1-9][0-9]*$/).test(a1Start) && (/^[0-9]*[1-9][0-9]*$/).test(a1End)){
                isA1 = true
            }else{
                isA1 = false
            }
        }

        let isA2 = a2Start !== '' && a2End !== '';
        if(a2Start === '' && a2End === ''){
            isA2 = true
        }else{
            if((/^[0-9]*[1-9][0-9]*$/).test(a2Start) && (/^[0-9]*[1-9][0-9]*$/).test(a2End)){
                isA2 = true
            }else{
                isA2 = false
            }
        }
        if(!isA1){
            titleMsg('发行额输入有误')
            return false
        }
        if(!isA2){
            titleMsg('认购价输入有误')
            return false
        }
        alert('验证通过')

        // ajax

        console.log($('.search dd.checked').text() +"-"+$('.box-dl p.checked').text())
        $('.search').hide()



    }
</script>